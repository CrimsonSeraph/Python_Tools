name: Minimal Python Package

on:
  push:
    tags: ['v*']
  workflow_dispatch:

jobs:
  package:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Create zip of root files
      run: |
        # 直接创建zip，包含根目录的.py和UserGuide.txt
        zip ${{ github.event.repository.name }}.zip *.py UserGuide.txt 2>/dev/null || echo "某些文件可能不存在"
        
    - name: Upload release
      uses: softprops/action-gh-release@v1
      with:
        files: ${{ github.event.repository.name }}.zip